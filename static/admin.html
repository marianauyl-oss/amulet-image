<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8" />
  <title>üßø Amulet Admin Pro v2.9</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="admin.css">
</head>
<body class="bg-body">
<div class="container py-4">
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h3 class="app-title">üßø Amulet Admin Pro</h3>
    <span class="badge text-bg-success">ONLINE</span>
  </div>

  <ul class="nav nav-tabs mb-3">
    <li class="nav-item"><button class="nav-link active" data-bs-toggle="tab" data-bs-target="#tabLicenses">Licenses</button></li>
    <li class="nav-item"><button class="nav-link" data-bs-toggle="tab" data-bs-target="#tabApiKeys">API Keys</button></li>
    <li class="nav-item"><button class="nav-link" data-bs-toggle="tab" data-bs-target="#tabVoices">Voices</button></li>
    <li class="nav-item"><button class="nav-link" data-bs-toggle="tab" data-bs-target="#tabLogs">Logs</button></li>
    <li class="nav-item"><button class="nav-link" data-bs-toggle="tab" data-bs-target="#tabConfig">Config</button></li>
    <li class="nav-item"><button class="nav-link" data-bs-toggle="tab" data-bs-target="#tabConsole">API Console</button></li>
  </ul>

  <div class="tab-content">

    <!-- LICENCES -->
    <div class="tab-pane fade show active" id="tabLicenses">
      <div class="row g-3">
        <div class="col-lg-8">
          <div class="input-group mb-2 flex-wrap">
            <input id="licSearch" class="form-control" placeholder="–ü–æ—à—É–∫ –ø–æ key –∞–±–æ MAC">
            <button class="btn btn-outline-secondary" onclick="loadLicenses()">üîç</button>
            <input id="minCredit" type="number" class="form-control" placeholder="min" style="max-width:100px">
            <input id="maxCredit" type="number" class="form-control" placeholder="max" style="max-width:100px">
            <select id="filterActive" class="form-select" style="max-width:150px">
              <option value="">all</option>
              <option value="true">active</option>
              <option value="false">inactive</option>
            </select>
            <button class="btn btn-outline-primary" onclick="filterLicenses()">‚öôÔ∏è Filter</button>
          </div>
          <div class="table-responsive">
            <table class="table table-sm table-striped align-middle">
              <thead><tr><th>ID</th><th>Key</th><th>Credit</th><th>Active</th><th>MAC</th><th>Created</th><th></th></tr></thead>
              <tbody id="licTbody"></tbody>
            </table>
          </div>
        </div>
        <div class="col-lg-4">
          <div class="card"><div class="card-body">
            <h6>–î–æ–¥–∞—Ç–∏ / –†–µ–¥–∞–≥—É–≤–∞—Ç–∏ –ª—ñ—Ü–µ–Ω–∑—ñ—é</h6>
            <input id="licId" type="hidden">
            <div class="mb-2"><label>Key</label><input id="licKey" class="form-control"></div>
            <div class="mb-2"><label>MAC</label><input id="licMac" class="form-control"></div>
            <div class="mb-2"><label>Credit</label><input id="licCredit" type="number" class="form-control" value="0"></div>
            <div class="form-check mb-2"><input id="licActive" type="checkbox" class="form-check-input" checked><label class="form-check-label">Active</label></div>
            <div class="d-flex gap-2">
              <button class="btn btn-primary" onclick="submitLicense()">üíæ Save</button>
              <button class="btn btn-secondary" onclick="resetLicenseForm()">‚Ü∫ Clear</button>
            </div>
          </div></div>
        </div>
      </div>
    </div>

    <!-- API KEYS -->
    <div class="tab-pane fade" id="tabApiKeys">
      <div class="row g-3">
        <div class="col-lg-8">
          <table class="table table-sm table-striped align-middle">
            <thead><tr><th>ID</th><th>API Key</th><th>Status</th><th></th></tr></thead>
            <tbody id="keysTbody"></tbody>
          </table>
        </div>
        <div class="col-lg-4">
          <div class="card"><div class="card-body">
            <h6>–î–æ–¥–∞—Ç–∏ / –†–µ–¥–∞–≥—É–≤–∞—Ç–∏ –∫–ª—é—á</h6>
            <input id="keyId" type="hidden">
            <input id="keyValue" class="form-control mb-2" placeholder="API key">
            <select id="keyStatus" class="form-select mb-2">
              <option value="active">active</option>
              <option value="inactive">inactive</option>
              <option value="blocked">blocked</option>
            </select>
            <div class="d-flex gap-2">
              <button class="btn btn-primary w-100" onclick="submitApiKey()">üíæ Save</button>
              <button class="btn btn-secondary w-100" onclick="resetApiKeyForm()">‚Ü∫ Clear</button>
            </div>
          </div></div>
        </div>
      </div>
    </div>

    <!-- VOICES -->
    <div class="tab-pane fade" id="tabVoices">
      <div class="row g-3">
        <div class="col-lg-8">
          <div class="d-flex justify-content-between align-items-center mb-2">
            <h6>Voices</h6>
            <button class="btn btn-outline-danger btn-sm" onclick="deleteAllVoices()">üóë Delete All</button>
          </div>
          <table class="table table-sm table-striped align-middle">
            <thead><tr><th>ID</th><th>Name</th><th>Voice ID</th><th>Active</th><th></th></tr></thead>
            <tbody id="voicesTbody"></tbody>
          </table>
        </div>
        <div class="col-lg-4">
          <div class="card"><div class="card-body">
            <h6>–î–æ–¥–∞—Ç–∏ / –†–µ–¥–∞–≥—É–≤–∞—Ç–∏ –≥–æ–ª–æ—Å</h6>
            <input id="voiceId" type="hidden">
            <input id="voiceName" class="form-control mb-2" placeholder="Name">
            <input id="voiceValue" class="form-control mb-2" placeholder="Voice ID">
            <div class="form-check mb-2"><input id="voiceActive" type="checkbox" class="form-check-input" checked><label class="form-check-label">Active</label></div>
            <div class="d-flex gap-2 mb-3">
              <button class="btn btn-primary" onclick="submitVoice()">üíæ Save</button>
              <button class="btn btn-secondary" onclick="resetVoiceForm()">‚Ü∫ Clear</button>
            </div>
            <hr>
            <label class="form-label">Upload Voices (.txt)</label>
            <input id="voiceFile" type="file" accept=".txt" class="form-control mb-2">
            <button class="btn btn-outline-primary w-100" onclick="uploadVoices()">üì§ Upload</button>
          </div></div>
        </div>
      </div>
    </div>

    <!-- LOGS -->
    <div class="tab-pane fade" id="tabLogs">
      <div class="d-flex gap-2 mb-2">
        <input id="logSearch" class="form-control" placeholder="–ü–æ—à—É–∫ –ø–æ key/mac">
        <button class="btn btn-outline-secondary" onclick="loadLogs()">üîç</button>
      </div>
      <div class="table-responsive">
        <table class="table table-sm table-striped align-middle">
          <thead><tr><th>ID</th><th>License</th><th>Action</th><th>Chars</th><th>Details</th><th>Created</th></tr></thead>
          <tbody id="logsTbody"></tbody>
        </table>
      </div>
    </div>

    <!-- CONFIG -->
    <div class="tab-pane fade" id="tabConfig">
      <div class="col-lg-6">
        <div class="card"><div class="card-body">
          <h6>–ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è —Å–∏—Å—Ç–µ–º–∏</h6>
          <div class="mb-2"><input id="cfgLatest" class="form-control" placeholder="latest_version"></div>
          <div class="form-check mb-2"><input id="cfgForce" type="checkbox" class="form-check-input"><label class="form-check-label">force_update</label></div>
          <div class="form-check mb-2"><input id="cfgMaint" type="checkbox" class="form-check-input"><label class="form-check-label">maintenance</label></div>
          <textarea id="cfgMaintMsg" class="form-control mb-2" rows="2" placeholder="maintenance_message"></textarea>
          <textarea id="cfgDesc" class="form-control mb-2" rows="2" placeholder="update_description"></textarea>
          <textarea id="cfgLinks" class="form-control mb-3" rows="2" placeholder='["https://example.com", "https://update.com"]'></textarea>
          <div class="d-flex gap-2 flex-wrap">
            <button class="btn btn-primary" onclick="saveConfig()">üíæ Save Config</button>
            <button class="btn btn-outline-success" onclick="downloadBackup()">üì• Backup Config</button>
            <button class="btn btn-outline-warning" onclick="downloadUsersBackup()">üì¶ Backup Users</button>
          </div>
        </div></div>
      </div>
    </div>

    <!-- API CONSOLE -->
    <div class="tab-pane fade" id="tabConsole">
      <div class="card"><div class="card-body">
        <h6>API Console</h6>
        <input id="apiAction" class="form-control mb-2" placeholder="action (check, get_config, get_voices...)">
        <textarea id="apiPayload" class="form-control mb-2" rows="4" placeholder='{"key":"KEY-1","mac":"AA-BB"}'></textarea>
        <div class="d-flex gap-2 mb-2">
          <button class="btn btn-outline-primary" onclick="runConsole()">‚ñ∂ Run</button>
          <button class="btn btn-outline-secondary" onclick="formatJson()">{} Format</button>
        </div>
        <pre id="apiResult" class="bg-dark text-success p-3 rounded small"></pre>
      </div></div>
    </div>

  </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="admin.js"></script>
</body>
</html>
